<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ratings</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        .navbar-custom {
            background-color: #f4511e !important; /* Orange navbar color */
        }
        body{
            background:#eee;
        }

        .card{
            border:none;
            position:relative;
            overflow:hidden;
            border-radius:8px;
            cursor:pointer;
            padding: 30px;
            width: 800px; /* Adjust width as needed */
            height: 600px; /* Allow height to adjust based on content */
        }

        .card:before{
            content:"";
            position:absolute;
            left:0;
            top:0;
            width:4px;
            height:100%;
            background-color:#E1BEE7;
            transform:scaleY(1);
            transition:all 0.5s;
            transform-origin: bottom
        }

        .card:after{
            content:"";
            position:absolute;
            left:0;
            top:0;
            width:4px;
            height:100%;
            background-color:#8E24AA;
            transform:scaleY(0);
            transition:all 0.5s;
            transform-origin: bottom
        }

        .card:hover::after{
            transform:scaleY(1);
        }

        .fonts{
            font-size:11px;
        }

        .social-list{
            display:flex;
            list-style:none;
            justify-content:center;
            padding:0;
        }

        .social-list li{
            padding:10px;
            color:#8E24AA;
            font-size:19px;
        }

        .buttons button:nth-child(1){
            border:1px solid #8E24AA !important;
            color:#8E24AA;
            height:40px;
        }

        .buttons button:nth-child(1):hover{
            border:1px solid #8E24AA !important;
            color:#fff;
            height:40px;
            background-color:#8E24AA;
        }

        .buttons button:nth-child(2){
            border:1px solid #8E24AA !important;
            background-color:#8E24AA;
            color:#fff;
            height:40px;
        }
        .checked {
            color: orange;
        }
        .fa-star {
            font-size: 24px; /* Adjust the size as needed */
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark navbar-custom">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">Drive Connect</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link active" aria-current="page" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="profile">Profile</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Ride History</a></li>
                    <li class="nav-item"><a class="nav-link" href="/authentication/logout">Log Out</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container mt-5">
        <div class="row d-flex justify-content-center">
            <div class="col-md-7">
                <h2 class="text-center mb-4">How was your ride?</h2>
                <div class="card p-3 py-4">
                    <div class="text-center">
                        <img src="https://www.bootdey.com/img/Content/avatar/avatar5.png" width="100" class="rounded-circle">
                    </div>
                    <div class="text-center mt-3">
                        <span class="bg-secondary p-1 px-4 rounded text-white">Pro</span>
                        <h5 class="mt-2 mb-0">{{rated_user.username}}</h5>
                        <span>UI/UX Designer</span>
                        <div class="px-4 mt-1">
                            <p class="fonts">Consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. </p>
                        </div>
                        <span class="heading">User Rating:</span>
                        <span class="fa fa-star" onclick="setRating(1)" id="star1"></span>
                        <span class="fa fa-star" onclick="setRating(2)" id="star2"></span>
                        <span class="fa fa-star" onclick="setRating(3)" id="star3"></span>
                        <span class="fa fa-star" onclick="setRating(4)" id="star4"></span>
                        <span class="fa fa-star" onclick="setRating(5)" id="star5"></span>
                    </div>
                    <div class="text-center mt-3">
                        <form method="post" action="{% url 'rate_user_send' user_id=rated_user.id %}">
                            {% csrf_token %}
                            <textarea class="form-control mb-3" name="feedback" placeholder="Enter your feedback"></textarea>
                            <input type="hidden" name="rating" id="rating_input">      
                            <button type="submit" class="btn btn-primary px-4">Submit</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        function setRating(rating) {
            document.getElementById('rating_input').value = rating;
            
            // Toggle the 'checked' class for stars based on the selected rating
            for (var i = 1; i <= 5; i++) {
                var starElement = document.getElementById('star' + i);
                if (i <= rating) {
                    starElement.classList.add('checked');
                } else {
                    starElement.classList.remove('checked');
                }
            }
        } -->
   
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Ratings</title>
            <link
              href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
              rel="stylesheet"
              integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
              crossorigin="anonymous"
            />
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
            <style>
                .navbar-custom {
                    background-color: #f4511e !important; /* Orange navbar color */
                }
                body{
                    background:#eee;
                }
        
                .card{
                    border:none;
                    position:relative;
                    overflow:hidden;
                    border-radius:8px;
                    cursor:pointer;
                    padding: 30px;
                    width: 800px; /* Adjust width as needed */
                    height: 600px; /* Allow height to adjust based on content */
                }
        
                .card:before{
                    content:"";
                    position:absolute;
                    left:0;
                    top:0;
                    width:4px;
                    height:100%;
                    background-color:#E1BEE7;
                    transform:scaleY(1);
                    transition:all 0.5s;
                    transform-origin: bottom
                }
        
                .card:after{
                    content:"";
                    position:absolute;
                    left:0;
                    top:0;
                    width:4px;
                    height:100%;
                    background-color:#8E24AA;
                    transform:scaleY(0);
                    transition:all 0.5s;
                    transform-origin: bottom
                }
        
                .card:hover::after{
                    transform:scaleY(1);
                }
        
                .fonts{
                    font-size:11px;
                }
        
                .social-list{
                    display:flex;
                    list-style:none;
                    justify-content:center;
                    padding:0;
                }
        
                .social-list li{
                    padding:10px;
                    color:#8E24AA;
                    font-size:19px;
                }
        
                .buttons button:nth-child(1){
                    border:1px solid #8E24AA !important;
                    color:#8E24AA;
                    height:40px;
                }
        
                .buttons button:nth-child(1):hover{
                    border:1px solid #8E24AA !important;
                    color:#fff;
                    height:40px;
                    background-color:#8E24AA;
                }
        
                .buttons button:nth-child(2){
                    border:1px solid #8E24AA !important;
                    background-color:#8E24AA;
                    color:#fff;
                    height:40px;
                }
                .checked {
                    color: orange;
                }
                .fa-star {
                    font-size: 24px; /* Adjust the size as needed */
                }
            </style>
        </head>
        <body>
            <nav class="navbar navbar-expand-lg navbar-dark navbar-custom">
                <div class="container-fluid">
                    <a class="navbar-brand" href="/">Drive Connect</a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav">
                            <li class="nav-item"><a class="nav-link active" aria-current="page" href="/">Home</a></li>
                <!-- <li class="nav-item"><a class="nav-link" href="/drive_connect/profile">Profile</a></li> -->
                <li class="nav-item"><a class="nav-link" href="/myrides">My Rides</a></li>
                <li class="nav-item"><a class="nav-link" href="/myrides/history">Ride History</a></li>
                <li class="nav-item"><a class="nav-link" href="/authentication/logout">Log Out</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
            <div class="container mt-5">
                <div class="row d-flex justify-content-center">
                    <div class="col-md-7">
                        <h2 class="text-center mb-4">How was your ride?</h2>
                        <div class="card p-3 py-4">
                            <div class="text-center">
                                <img src="{{rated_user.profile_photo.url}}" width="100" class="rounded-circle">
                            </div>
                            <div class="text-center mt-3">
                                
                                <h5 class="mt-2 mb-0">{{rated_user.username}}</h5>
                                
                                <div class="px-4 mt-1">
                                   
                                </div>
                                <span class="heading">User Rating:</span>
                                <span class="fa fa-star" onclick="setRating(1)" id="star1"></span>
                                <span class="fa fa-star" onclick="setRating(2)" id="star2"></span>
                                <span class="fa fa-star" onclick="setRating(3)" id="star3"></span>
                                <span class="fa fa-star" onclick="setRating(4)" id="star4"></span>
                                <span class="fa fa-star" onclick="setRating(5)" id="star5"></span>
                            </div>
                            <div class="text-center mt-3">
                                <form method="post" action="{% url 'rate_user_send' user_id=rated_user.id %}">
                                    {% csrf_token %}
                                    <textarea class="form-control mb-3" name="feedback" placeholder="Enter your feedback"></textarea>
                                    <input type="hidden" name="rating" id="rating_input"> <!-- Hidden input field for the rating value -->
                                    <button type="submit" class="btn btn-primary px-4">Submit</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                function setRating(rating) {
                    document.getElementById('rating_input').value = rating;
                    
                    // Toggle the 'checked' class for stars based on the selected rating
                    for (var i = 1; i <= 5; i++) {
                        var starElement = document.getElementById('star' + i);
                        if (i <= rating) {
                            starElement.classList.add('checked');
                        } else {
                            starElement.classList.remove('checked');
                        }
                    }
                }
        
                // Function to handle star clicks and set the rating accordingly
                document.addEventListener('DOMContentLoaded', function () {
                    var stars = document.querySelectorAll('.fa-star');
                    stars.forEach(function (star, index) {
                        star.addEventListener('click', function () {
                            setRating(index + 1);
                        });
                    });
                });
            </script>
            <script
            src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
            integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
            crossorigin="anonymous"
          ></script>
          <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
            integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
            crossorigin="anonymous"
          ></script>
        </body>
        </html>
        